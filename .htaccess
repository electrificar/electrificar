# Ultimate SEO URLs BEGIN
<IfModule mod_rewrite.c>
    Options +FollowSymLinks
    RewriteEngine On
    RewriteBase /
    AddDefaultCharset UTF-8

	RewriteCond %{HTTP_HOST} !^www\.
	RewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d

	ErrorDocument 404 /404.html 

    # Redirecciones
    
    #alquileres
    
    #vehiculos
    RewriteRule ^admin/vehiculos/?$ /admin/index.php?controller=vehiculo&action=list_vehicles&%{QUERY_STRING} [L]
    RewriteRule ^admin/añadir-vehiculo/?$ /admin/index.php?controller=vehiculo&action=frm_vehicle&%{QUERY_STRING} [L]
    RewriteRule ^admin/editar-vehiculo/(.*)/?$ /admin/index.php?controller=vehiculo&action=frm_vehicle&id_vehiculo=$1%{QUERY_STRING} [L]
    RewriteRule ^admin/borrar-vehiculo/(.*)/?$ /admin/index.php?controller=vehiculo&action=delete_vehicle&id_vehiculo=$1%{QUERY_STRING} [L]
    RewriteRule ^admin/guardar-vehiculo/?$ /admin/index.php?controller=vehiculo&action=update_vehicle&%{QUERY_STRING} [L]
    
    #usuarios
    
  	#zonas
  	RewriteRule ^admin/zonas/?$ /admin/index.php?controller=zona&action=list_zonas&%{QUERY_STRING} [L]
    RewriteRule ^admin/añadir-zona/?$ /admin/index.php?controller=zona&action=frm_zona&%{QUERY_STRING} [L]
    RewriteRule ^admin/editar-zona/(.*)/?$ /admin/index.php?controller=zona&action=frm_zona&id_zona=$1%{QUERY_STRING} [L]
    RewriteRule ^admin/guardar-zona/?$ /admin/index.php?controller=zona&action=update_zona&%{QUERY_STRING} [L]
    
    #puntos de carga
    RewriteRule ^admin/zona/(.*)/puntos-de-carga/?$ /admin/index.php?controller=zona&action=list_plug&id_zona=$1%{QUERY_STRING} [L]
    RewriteRule ^admin/zona/(.*)/añadir-punto-de-carga/?$ /admin/index.php?controller=zona&action=frm_plug&id_zona=$1%{QUERY_STRING} [L]
    
  	#tarifas
  	
  	#incidencias
    
    RewriteRule ^admin/do_logout/?$ /admin/index.php?controller=perfil&action=do_logout&%{QUERY_STRING} [L]
    RewriteRule ^admin/logout/?$ /admin/index.php?controller=perfil&action=do_logout&%{QUERY_STRING} [L]
    RewriteRule ^admin/login/?$ /admin/index.php?controller=perfil&action=do_login&%{QUERY_STRING} [L]
    RewriteRule ^admin/home/?$ /admin/index.php?controller=home&action=home&%{QUERY_STRING} [L]
    RewriteRule ^admin/$ /admin/index.php?controller=perfil&action=frm_login&%{QUERY_STRING} [L]
    
    RewriteRule ^admin/images/(.*)$ /tpl_admin/images/$1 [L]
    RewriteRule ^admin/css/(.*)$ /tpl_admin/css/$1 [L]
    RewriteRule ^admin/js/(.*)$ /tpl_admin/js/$1 [L]
    RewriteRule ^admin/fonts/(.*)$ /tpl_admin/fonts/$1 [L]
   
    RewriteRule ^dw$ /comun/dw.php?%{QUERY_STRING} [L]

	RewriteRule ^tpl/img/(.*)$ /tpl_guest/img/$1 [L]
    RewriteRule ^tpl/(.*)$ /tpl_guest/$1 [L]

    #usuario
    RewriteRule ^home/$ /guest/index.php?controller=home&action=home&%{QUERY_STRING} [L]
    RewriteRule ^inicio/$ /guest/index.php?controller=home&action=home2&%{QUERY_STRING} [L]

</IfModule>


#A continuación mejoras de cacheo y comprensión con GZIP para aumentar velocidad de carga del site.
#habilita cacheo para extensiones concretas de imáges, css, js
#<ifmodule mod_expires.c>
# ExpiresActive On
# ExpiresDefault A3600
# <filesmatch ".(jpg|JPG|gif|GIF|png|css|ico|js|woff)$">
#  ExpiresDefault "access plus 31 day"
# </filesmatch>
#</ifmodule>

#habilita comprensión ficheros .css
#<Files *.css>
#SetOutputFilter GZIP
#</Files>

#habilita comprensión ficheros .js
#<Files *.js>
#SetOutputFilter GZIP
#</Files>

#habilita comprensión otras extensiones
#AddOutputFilterByType GZIP text/xml
#AddOutputFilterByType GZIP text/css
#AddOutputFilterByType GZIP application/javascript
#AddOutputFilterByType GZIP application/x-javascript
#AddOutputFilterByType GZIP application/xml
#AddOutputFilterByType GZIP application/xhtml+xml
#AddOutputFilterByType GZIP application/rss+xml